p8105_hw2_yw3995
================
Yuxuan Wang
2023-10-04

# Problem 0

# Problem 1

## Clean the data in pols-month.csv

``` r
pols_df = 
  read_csv(file = "./data/pols-month.csv") %>% 
  janitor::clean_names() %>% 
  separate(mon, into = c("year", "month", "day")) %>% 
  mutate(month = month.abb[as.numeric(month)]) %>% 
  mutate(president = ifelse(prez_dem == 0, "dem", "gop")) %>% 
  select(-prez_dem, -prez_gop, -day)

pols_df
```

    ## # A tibble: 822 × 9
    ##    year  month gov_gop sen_gop rep_gop gov_dem sen_dem rep_dem president
    ##    <chr> <chr>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl> <chr>    
    ##  1 1947  Jan        23      51     253      23      45     198 gop      
    ##  2 1947  Feb        23      51     253      23      45     198 gop      
    ##  3 1947  Mar        23      51     253      23      45     198 gop      
    ##  4 1947  Apr        23      51     253      23      45     198 gop      
    ##  5 1947  May        23      51     253      23      45     198 gop      
    ##  6 1947  Jun        23      51     253      23      45     198 gop      
    ##  7 1947  Jul        23      51     253      23      45     198 gop      
    ##  8 1947  Aug        23      51     253      23      45     198 gop      
    ##  9 1947  Sep        23      51     253      23      45     198 gop      
    ## 10 1947  Oct        23      51     253      23      45     198 gop      
    ## # ℹ 812 more rows

## Clean the data in snp.csv

``` r
snp_df = 
  read_csv(file = "./data/snp.csv") %>% 
  janitor::clean_names() %>% 
  mutate(date = as.Date(date, format = "%m/%d/%y"),
         date = as.Date(ifelse(date > Sys.Date(),
                               format(date, "19%y-%m-%d"),
                               format(date)))) %>% 
  separate(date, into = c("year", "month", "day")) %>% 
  mutate(month = month.abb[as.numeric(month)]) %>% 
  select(-day) %>% 
  arrange(year, month) %>% 
  relocate(year, month)

snp_df
```

    ## # A tibble: 787 × 3
    ##    year  month close
    ##    <chr> <chr> <dbl>
    ##  1 1950  Apr    18.0
    ##  2 1950  Aug    18.4
    ##  3 1950  Dec    20.4
    ##  4 1950  Feb    17.2
    ##  5 1950  Jan    17.0
    ##  6 1950  Jul    17.8
    ##  7 1950  Jun    17.7
    ##  8 1950  Mar    17.3
    ##  9 1950  May    18.8
    ## 10 1950  Nov    19.5
    ## # ℹ 777 more rows

## Clean the data in unemployment.csv

``` r
unemployment_df = 
  read_csv(file = "./data/unemployment.csv") %>% 
  janitor::clean_names() %>% 
  pivot_longer(
    jan:dec,
    names_to = "month",
    values_to = "percentage") %>% 
  mutate(month = str_to_title(month))

unemployment_df$year = as.character(unemployment_df$year)

unemployment_df
```

    ## # A tibble: 816 × 3
    ##    year  month percentage
    ##    <chr> <chr>      <dbl>
    ##  1 1948  Jan          3.4
    ##  2 1948  Feb          3.8
    ##  3 1948  Mar          4  
    ##  4 1948  Apr          3.9
    ##  5 1948  May          3.5
    ##  6 1948  Jun          3.6
    ##  7 1948  Jul          3.6
    ##  8 1948  Aug          3.9
    ##  9 1948  Sep          3.8
    ## 10 1948  Oct          3.7
    ## # ℹ 806 more rows
